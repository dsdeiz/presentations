<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Behavior-driven Development</title>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>
<body>
  <div class="reveal">
    <div class="slides">
      <section>
        <h1>Beavhior-driven Development</h1>
        <h2>Using Behat and PhantomJS</h2>
      </section>
      <section>
        <h2>BDD</h2>
        <p>In software engineering, behavior-driven development (abbreviated BDD) is a software development process based on test-driven development (TDD). Behavior-driven development combines the general techniques and principles of TDD with ideas from domain-driven design and object-oriented analysis and design to provide software development and management teams with shared tools and a shared process to collaborate on software development.</p>
        <p><em>&mdash; <a href="http://en.wikipedia.org/wiki/Behavior-driven_development">Wikipedia</a></em></p>
        <aside class="notes">I have no idea what this means.</aside>
      </section>
      <section>
        <h2>Tools</h2>
        <ul>
          <li class="fragment"><strong>Behat</strong> &ndash; BDD framekwork for PHP.</li>
          <li class="fragment"><strong>PhantomJS</strong> &ndash; Headless WebKit scriptable with a JavaScript API.</li>
          <li class="fragment"><strong>Mink</strong> &ndash; Library for integrating Behat with browser emulators such as Goutte and Selenium.</li>
        </ul>
      </section>
      <section>
        <h2>Behat</h2>
        <p>It's similar to writing human-readable sentences that describe how a feature should work. What context should be given, the actions an end user should do and finally the expected output.</p>
      </section>
      <section>
        <h2>Example:</h2>
        <pre><code class="cucumber">
@api @javascript
Feature: Calculate tax.
    As a customer,
    I need to provide valid address
    So that tax can be calculated.

    Scenario: Calculate tax.
        Given I am an anonymous user
          And I have a product with sku "FS1000" in my cart
          And I am on the commerce checkout page
        When I fill in "7732456890" for "Phone Number" in the "new_account" region
        And I fill in "bob@thejones.net" for "User ID" in the "new_account" region
        And I fill in "bob@otherjones.net" for "Contact Email" in the "new_account" region
        And I fill in "social" for "Security Question" in the "new_account" region
        And I fill in "1234" for "Security Question Answer" in the "new_account" region
        And I fill in "Test" for "First name" in the "billing" region
        And I fill in "Test" for "Last name" in the "billing" region
        And I fill in "108 5th Ave NW" for "Address 1" in the "billing" region
        And I fill in "Altoona" for "City" in the "billing" region
        And I select "IA" from "State"
        And I fill in "50009" for "ZIP Code" in the "billing" region
        And I select the ajax radio button "Manual (Cash or Check)"
        And I press the "Review Order" button
        Then I should be on the order review page
        And I should see the text "Sales tax"
        </pre></code>
      </section>
      <section>
        <h2>PhantomJS</h2>
        <p>Headless browser emulator</p>
      </section>
      <section>
        <h2>Mink</h2>
        <p>Library for Behat which has supports for various browser emulators</p>
      </section>
      <section>
        <h2>Writing Behat tests</h2>
        <p>Gherkin is the syntax used when producing tests. Statements are ending by using line endings. A test is usually separated into three:</p>
        <ul>
          <li class="fragment">Feature</li>
          <li class="fragment">Scenario</li>
          <li class="fragment">Steps</li>
        </ul>
      </section>
      <section>
        <h2>Feature</h2>
        <p>Features are separated into files and are named as <code>*.feature</code>. The beginning of the file starts with the keyword <code>Feature:</code>. The next three lines after defining a feature is more like a description. These next 3 lines are not usually parsed by Behat. It's usually just a description to give readers a background of the whole feature. A feature then contains different scenarios which will be further broken down into steps.</p>
      </section>
      <section>
        <h2>Scenario</h2>
        <p>A scenario describes the actual tests. It starts with the keyword <code>Scenario:</code>. Think of it as how your application would react in a certain situation. When running Behat, you can specify which scenario it would just run. A scenario is further broken down into steps.</p>
      </section>
      <section>
        <h2>Steps</h2>
        <p>Steps are the way you tell the test about what context it has, the actions an end user would do, and the expected outcome. Keywords used in steps are <code>Given</code>, <code>When</code>, <code>Then</code>, <code>And</code>, and <code>But</code>.</p>
        <!-- <p><strong>Given</strong> is giving your test a context e.g. <code>Given I am a logged in user with the "authenticated user" role</code>. <strong> -->
      </section>
    </div>
  </div>

  <script src="lib/js/head.min.js"></script>
  <script src="js/reveal.min.js"></script>
  <script>
    Reveal.initialize({
      progress: true,
      history: false,
      center: true,
      controls: false,

      theme: 'night',
      transition: 'linear',

      // Parallax scrolling
      parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
      parallaxBackgroundSize: '2100px 900px',

      // Optional libraries used to extend on reveal.js
      dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
      { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
      ]
    });
  </script>
</body>
</html>
